# 9. 타입 변환과 단축 평가



## 9.1 타입 변환이란?

개발자가 의도적으로 값의 타입을 변환하는 것을 **명시적 타입 변환**또는 **타입 캐스팅**이라 한다. 기존 원시 값은 변경 불가능한 값이므로 변경할 수 없고, 타입변환이란 기존 원시값을 사용해 다른 타입의 새로운 원시 값을 생성하는 것이다.

 자바스크립트 엔진은 표현식을 에러 없이 평가하기 위해 피연산자의 값을 암묵적 타입 변환해 새로운 타입의 값을 만들어 단 한번 사용하고 버린다.

```
let x = 10;
let str = x + ''

위 예제의 경우 자바스크립트 엔진은 표현식 x + '' 을 평가하기 위해 x 변수의 숫자 값을 바탕으로 새로운 문자열 값 '10'을 생성하고 이것으로 표현식을 평가한다.
```



 가독성을 위해 (10).toString() 보다 10 + '' 가 더욱 간결하고 이해하기 쉽다.



## 9.4 단축평가



### 9.4.1 논리 연산자를 사용한 단축 평가

 논리합(||) 또는 논리곱(&&) 연산자 표현식은 언제나 2개의 피연산자 중 어느 한쪽으로 평가된다.

```
'CAT' && 'DOG' // "DOG"
```

 논리곱(&&) 연산자는 두 개의 피연산자가 모두 true로 평가될 때 true를 반환한다. 

논리합(||) 연산자는 두 개의 피연산자 중 하나만 true로 평가되어도 true를 반환한다.

| 단축 평가 표현식    | 평가 결과 |
| ------------------- | --------- |
| true \|\| anything  | true      |
| false \|\| anything | anything  |
| true && anything    | anything  |
| false && anything   | false     |



### 9.4.2 옵셔널 체인 연산자

ES11에서 도입된 옵셔널 체이닝 연산자 ?. 는 좌항의 피연산자가 null 또는 undefined인 경우 undefined를 반환하고 그렇지 않으면 우항의 프로퍼티 참조를 이어간다.

 논리연산자 &&는 좌항 피연산자가 Falsy값이면 좌항 피연산자를 그대로 반환한다. 하지만 옵셔널 체이닝 연산자 ?.는 좌항연산자가 null 또는 undefined만 아니면 우항의 프로퍼티 참조를 이어간다

```
const str ='';
const length = str?.length; 
const length2 = str && str.length;
console.log(lenght, length2) // 0 ''
```



### 9.4.3 null 병합 연산자

ES11에서 도입된 null 병합 연산자 ??는 좌항의 피연산자가 null 또는 undefined인 경우 우항의 피연산자를 반환하고, 그렇지 않으면 좌항의 피연산자를 반환한다. 

null 병합 연산자 ??는 변수에 기본값을 설정할 때 유용합니다.



```
let foo = '' ?? 'default string';
let foo2 = '' || 'default string'; 
console.log(foo, foo2); // '' default string
```

